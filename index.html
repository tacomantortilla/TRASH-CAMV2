<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width,initial-scale=1,viewport-fit=cover,user-scalable=no"
  />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Trash Cam V2</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="app">
    <video id="vid" autoplay playsinline muted></video>

    <!-- screen canvas (letterboxed display, never stretched) -->
    <canvas id="screen"></canvas>

    <header class="top">
      <div class="brand">
        <div class="accent"></div>
        <div class="brandText">
          <div class="brandTitle">TRASH CAM V2</div>
          <div class="brandSub">CCD CORRUPTION • PHOTO</div>
        </div>
      </div>
      <button id="flip" class="btn glass">FLIP</button>
    </header>

    <!-- FLOATING "SHOW HUD" BUTTON (only visible when HUD is hidden) -->
    <button id="showHud" class="floatHud" aria-label="Show controls">SHOW HUD</button>

    <!-- HUD / CONTROL PANEL -->
    <section class="panel" id="panel">
      <div class="row tight">
        <div class="pill">
          <div class="pillLabel">Format</div>
          <select id="format">
            <option value="auto" selected>AUTO</option>
            <option value="portrait">PORTRAIT</option>
            <option value="landscape">LANDSCAPE 16:9</option>
            <option value="square">SQUARE 1:1</option>
          </select>
        </div>

        <div class="pill">
          <div class="pillLabel">Palette</div>
          <select id="paletteMode">
            <option value="neon" selected>NEON (G/P)</option>
            <option value="purple_orange">PURPLE / ORANGE</option>
            <option value="red_blue">RED / BLUE</option>
            <option value="red_black">RED / BLACK</option>
            <option value="cmy">CMY GLITCH</option>
            <option value="amber_teal">AMBER / TEAL</option>
          </select>
        </div>
      </div>

      <div class="togGrid">
        <label class="tog"><input type="checkbox" id="t_blocks" checked><span>Blocks</span></label>
        <label class="tog"><input type="checkbox" id="t_bit" checked><span>Bitcrush</span></label>
        <label class="tog"><input type="checkbox" id="t_feedback" checked><span>Feedback</span></label>
        <label class="tog"><input type="checkbox" id="t_noise" checked><span>Noise</span></label>
        <label class="tog"><input type="checkbox" id="t_false" checked><span>False Color</span></label>
        <label class="tog"><input type="checkbox" id="t_bars" checked><span>Data Bars</span></label>
        <label class="tog wide"><input type="checkbox" id="t_date" checked><span>Date Stamp</span></label>
      </div>

      <div class="sliders">
        <div class="srow">
          <div class="slabel">GRIT</div>
          <input id="s_grit" type="range" min="0" max="100" value="65">
        </div>
        <div class="srow">
          <div class="slabel">CORRUPT</div>
          <input id="s_corrupt" type="range" min="0" max="100" value="55">
        </div>
        <div class="srow">
          <div class="slabel">CHROMATIC</div>
          <input id="s_chroma" type="range" min="0" max="100" value="25">
        </div>
        <div class="srow">
          <div class="slabel">PALETTE</div>
          <input id="s_palette" type="range" min="0" max="100" value="55">
        </div>
        <div class="srow">
          <div class="slabel">RES</div>
          <input id="s_res" type="range" min="160" max="900" value="360">
        </div>
      </div>

      <div class="presetGrid">
        <button class="chip" data-preset="mall">Mall CCD</button>
        <button class="chip" data-preset="buffer">Broken Buffer</button>
        <button class="chip" data-preset="neon">Neon Smash</button>
        <button class="chip" data-preset="digi">Cheap Digi</button>
      </div>

      <div class="actions">
        <button id="bend" class="btn primary">BEND</button>
        <button id="snap" class="btn">SNAP</button>
        <button id="hud" class="btn">HIDE HUD</button>
      </div>

      <div class="tip" id="tip">AUTO flips with phone rotation • SNAP saves true crop.</div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
